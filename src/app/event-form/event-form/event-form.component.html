<ng-container *ngIf="loading$ | async; else elseTemplate">
  <div class="flex justify-content-center align-items-center mt-8">
    <i
      class="pi pi-spin pi-spinner text-primary"
      style="font-size: 5rem"
    ></i></div
></ng-container>

<ng-template #elseTemplate>
  <div class="p-4">
    <img
      src="assets/images/logo.png"
      alt="Image"
      height="40"
      class="mr-0 lg:mr-6"
    />
    <div class="grid formgrid p-fluid">
      <form
        class="w-full"
        *ngIf="eventForm && controlLength > 0"
        [formGroup]="eventForm"
      >
        <div *ngFor="let control of fieldsArray">
          <app-dropdown
            [label]="control.field_name"
            [placeholder]="control.field_name"
            [controlName]="control.field_name"
            [form]="eventForm"
            *ngIf="control.field_type === 'dropdown'"
          ></app-dropdown>

          <app-textArea
            [label]="control.field_name"
            [placeholder]="control.field_name"
            [controlName]="control.field_name"
            [form]="eventForm"
            *ngIf="control.field_type === 'textField'"
          ></app-textArea>

          <app-date
            [label]="control.field_name"
            [placeholder]="control.field_name"
            [controlName]="control.field_name"
            [form]="eventForm"
            *ngIf="control.field_type === 'date'"
          ></app-date>
        </div>
      </form>
    </div>

    <div class="col-12 md:col-10 margin">
      <button
        pButton
        pRipple
        class="w-6"
        type="button"
        label="Submit"
        (click)="submitForm()"
      ></button>
    </div>

    <p-toast></p-toast>
    <p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>
  </div>
</ng-template>
